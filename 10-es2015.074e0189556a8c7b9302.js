(window.webpackJsonp=window.webpackJsonp||[]).push([[10],{lCCV:function(t,o,e){"use strict";e.r(o),e.d(o,"TodoPageModule",(function(){return y}));var n=e("ofXK"),i=e("3Pt+"),c=e("TEn/"),a=e("tyNb"),l=e("mrSG"),d=e("fXoL"),s=e("XNiG");class r{constructor(){this.todoList=[]}addTodo(t){this.todoList.push(t)}deleteTodo(t){this.todoList.splice(t,1)}updateTodo(t,o){this.todoList[t]=o}}var b=e("lJxs");let u=(()=>{class t{constructor(){this.todo=new r,this.todoSubject=new s.a,this.todoState=this.todoSubject.asObservable().pipe(Object(b.a)(t=>t.todoList))}addTodo(t){this.todo.addTodo(t),this.todoSubject.next(this.todo)}deleteTodo(t){this.todo.deleteTodo(t),this.todoSubject.next(this.todo)}updateTodo(t,o){this.todo.updateTodo(t,o),this.todoSubject.next(this.todo)}}return t.\u0275fac=function(o){return new(o||t)},t.\u0275prov=d.Db({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();function p(t,o){if(1&t&&(d.Kb(0,"ion-label",10),d.hc(1),d.Vb(2,"date"),d.Ib(3,"br"),d.hc(4),d.Jb()),2&t){const t=d.Ub().$implicit;d.xb(1),d.jc(" ",d.Xb(2,2,null==t?null:t.create_at,"yyyy\u5e74MM\u6708dd\u65e5"),""),d.xb(3),d.jc(" ",null==t?null:t.label," ")}}function h(t,o){1&t&&(d.Kb(0,"ion-label",10),d.hc(1,"\u4e88\u5b9a\u3092\u5165\u529b\u3057\u3066\u304f\u3060\u3055\u3044"),d.Jb())}function f(t,o){if(1&t){const t=d.Lb();d.Kb(0,"ion-list"),d.Kb(1,"ion-item",6),d.Sb("click",(function(){d.dc(t);const e=o.index,n=o.$implicit;return d.Ub().updateToDo(e,n)})),d.Kb(2,"ion-button",7),d.Sb("click",(function(){d.dc(t);const e=o.index;return d.Ub().deleteToDo(e)})),d.Ib(3,"ion-icon",8),d.hc(4," \u524a\u9664 "),d.Jb(),d.gc(5,p,5,5,"ion-label",9),d.gc(6,h,2,0,"ion-label",9),d.Jb(),d.Jb()}if(2&t){const t=o.$implicit;d.xb(5),d.ac("ngIf",null==t?null:t.label),d.xb(1),d.ac("ngIf",!(null!=t&&t.label))}}const T=[{path:"",component:(()=>{class t{constructor(t,o){this.todo=t,this.alertController=o,this.todoState=this.todo.todoState}ngOnInit(){}addToDo(){this.todo.addTodo({label:""})}deleteToDo(t){this.todo.deleteTodo(t)}updateToDo(t,o){return Object(l.a)(this,void 0,void 0,(function*(){const e=yield this.presentAlertPrompt(o);e&&this.todo.updateTodo(t,{create_at:e.ToDoDate,label:e.ToDoLabel,content:e.ToDoContent})}))}presentAlertPrompt(t){var o;return Object(l.a)(this,void 0,void 0,(function*(){const e=yield this.alertController.create({header:"\u4e88\u5b9a\u78ba\u8a8d",inputs:[{name:"ToDoDate",type:"date",value:t.create_at?t.create_at:""},{name:"ToDoLabel",type:"text",value:t.label?t.label:"",placeholder:"\u4e88\u5b9a\u306e\u540d\u524d\u3092\u5165\u529b"},{name:"ToDoContent",type:"text",value:t.content?t.content:"",placeholder:"\u4e88\u5b9a\u306e\u8a73\u7d30\u3092\u5165\u529b"}],buttons:[{text:"\u30ad\u30e3\u30f3\u30bb\u30eb",role:"cancel",cssClass:"secondary",handler:()=>{}},{text:"\u66f4\u65b0",handler:()=>{}}]});yield e.present();const n=yield e.onDidDismiss();return"cancel"===n.role||null===(o=n.data)||void 0===o?void 0:o.values}))}}return t.\u0275fac=function(o){return new(o||t)(d.Hb(u),d.Hb(c.a))},t.\u0275cmp=d.Bb({type:t,selectors:[["app-todo"]],decls:13,vars:4,consts:[[3,"translucent"],["slot","start"],[1,"ion-padding"],[4,"ngFor","ngForOf"],["expand","full",1,"ion-margin",3,"click"],["slot","start","name","add"],["button","true",3,"click"],["slot","start","fill","outline","color","danger",3,"click"],["slot","start","name","trash"],["class","ion-text-wrap",4,"ngIf"],[1,"ion-text-wrap"]],template:function(t,o){1&t&&(d.Kb(0,"ion-header",0),d.Kb(1,"ion-toolbar"),d.Kb(2,"ion-buttons",1),d.Ib(3,"ion-menu-button"),d.Jb(),d.Kb(4,"ion-title"),d.hc(5,"ToDo"),d.Jb(),d.Jb(),d.Jb(),d.Kb(6,"ion-content",2),d.Kb(7,"ion-card"),d.gc(8,f,7,2,"ion-list",3),d.Vb(9,"async"),d.Kb(10,"ion-button",4),d.Sb("click",(function(){return o.addToDo()})),d.Ib(11,"ion-icon",5),d.hc(12," \u4e88\u5b9a\u8ffd\u52a0 "),d.Jb(),d.Jb(),d.Jb()),2&t&&(d.ac("translucent",!0),d.xb(8),d.ac("ngForOf",d.Wb(9,2,o.todoState)))},directives:[c.g,c.t,c.d,c.n,c.s,c.f,c.e,n.j,c.c,c.h,c.k,c.i,n.k,c.j],pipes:[n.b,n.e],styles:[""]}),t})()}];let m=(()=>{class t{}return t.\u0275mod=d.Fb({type:t}),t.\u0275inj=d.Eb({factory:function(o){return new(o||t)},imports:[[a.i.forChild(T)],a.i]}),t})(),y=(()=>{class t{}return t.\u0275mod=d.Fb({type:t}),t.\u0275inj=d.Eb({factory:function(o){return new(o||t)},imports:[[n.c,i.a,c.u,m]]}),t})()}}]);